(this.webpackJsonporganizer_client=this.webpackJsonporganizer_client||[]).push([[0],{205:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(29),c=a.n(s),r=a(9),o=a(10),i=a(12),l=a(11),d=a(20),u=a(8),j=(a(94),a(21)),h=a(19),b=a.n(h),m=a(14),p=a(0);a(27).config();var O=new m.a,x=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t,a=e.target,s=a.name,c=a.value;n.setState((t={},Object(j.a)(t,s,c),Object(j.a)(t,"userFailed",!1),t))},n.login=function(e){e.preventDefault();var t={username:"".concat(n.state.username),password:"".concat(n.state.password)};b.a.post("".concat("https://diegosalas-organizer.herokuapp.com","/users/login"),t).then((function(e){return e.data})).then((function(e){if(1===e.length){var t=e[0];O.set("id",t._id,{path:"/"}),O.set("username",t.username,{path:"/"}),O.set("password",t.password,{path:"/"}),window.location.href="./home"}else n.setState({userFailed:!0})})).catch((function(e){return console.log(e)}))},n.state={username:"",password:"",userFailed:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){O.get("username")&&(window.location.href="./home")}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("br",{}),Object(p.jsx)("h3",{children:"Login"}),Object(p.jsx)("br",{}),Object(p.jsxs)("form",{onSubmit:this.login,children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"usernameInput",children:"Username"}),Object(p.jsx)("input",{type:"text",required:!0,className:"form-control",id:"usernameInput",name:"username",value:this.state.username,onChange:this.handleChange})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"passwordInput",children:"Password"}),Object(p.jsx)("input",{type:"password",required:!0,className:"form-control",id:"passwordInput",name:"password",value:this.state.password,onChange:this.handleChange})]}),this.state.userFailed&&Object(p.jsx)("p",{style:{color:"red"},children:"Usuario y contrase\xf1a no coinciden"}),Object(p.jsxs)("div",{children:["\xbfNo tienes una cuenta?",Object(p.jsx)("span",{children:" "}),Object(p.jsx)(d.b,{to:"./register-user",children:"Reg\xedstrate"})]}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"submit",value:"Entrar",className:"btn btn-primary"})})]})]})}}]),a}(n.Component),f=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(p.jsx)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(d.b,{to:"/home",className:"navbar-brand",children:"Organizer"}),Object(p.jsx)("div",{className:"collpase navbar-collapse",id:"navbarNavAltMarkup",children:Object(p.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(p.jsx)("li",{className:"navbar-item",children:Object(p.jsx)(d.b,{to:"/home",className:"nav-link",children:"Tasks"})}),Object(p.jsx)("li",{className:"navbar-item",children:Object(p.jsx)(d.b,{to:"/home/create",className:"nav-link",children:"Create Task"})})]})})]})})}}]),a}(n.Component),v=a(35),g=a(36),k=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).updateTask=function(){e.props.updateTask(e.props.task._id)},e.deleteTask=function(){e.props.deleteTask(e.props.task._id)},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:this.props.task.name}),Object(p.jsx)("td",{children:this.props.task.description}),Object(p.jsx)("td",{children:this.props.task.duration}),Object(p.jsx)("td",{children:this.props.task.importance}),Object(p.jsx)("td",{children:this.props.task.due_date.slice(0,10)}),Object(p.jsxs)("td",{children:[Object(p.jsx)(v.a,{onClick:this.updateTask,icon:g.b}),Object(p.jsx)("span",{children:"   "}),Object(p.jsx)(v.a,{icon:g.a}),Object(p.jsx)("span",{children:"   "}),Object(p.jsx)(v.a,{onClick:this.deleteTask,icon:g.c}),Object(p.jsx)("span",{children:"   "})]})]})}}]),a}(n.Component);a(27).config();var w=new m.a,N=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).logout=function(){w.remove("username",{path:"/"}),w.remove("password",{path:"/"}),window.location.href="./"},n.deleteTask=function(e){console.log("Deleting task ".concat(e)),b.a.delete("".concat("https://diegosalas-organizer.herokuapp.com","/tasks/").concat(e)).then((function(t){console.log(t.data),n.setState({tasks:n.state.tasks.filter((function(t){return t._id!==e}))})})).catch((function(e){return console.log(e)}))},n.updateTask=function(e){console.log("Updating task ".concat(e)),window.location.href="./home/edit/"+e},n.tasksList=function(){return n.state.tasks.map((function(e){return Object(p.jsx)(k,{task:e,deleteTask:n.deleteTask,updateTask:n.updateTask},e._id)}))},n.state={tasks:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;w.get("username")?b.a.get("".concat("https://diegosalas-organizer.herokuapp.com","/tasks/").concat(w.get("username"))).then((function(t){return e.setState({tasks:t.data})})).catch((function(e){return console.log(e)})):window.location.href="./"}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("h1",{children:["Bienvenid@, ",w.get("username")]}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"table-responsive-sm",children:Object(p.jsxs)("table",{className:"table table-bordered",children:[Object(p.jsx)("thead",{className:"thead-dark",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"Name"}),Object(p.jsx)("th",{scope:"col",children:"Description"}),Object(p.jsx)("th",{scope:"col",children:"Time"}),Object(p.jsx)("th",{scope:"col",children:"Imp"}),Object(p.jsx)("th",{scope:"col",children:"Due Date"}),Object(p.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(p.jsx)("tbody",{children:this.tasksList()})]})}),Object(p.jsx)("button",{onClick:this.logout,className:"btn btn-primary",children:"Cerrar Sesion"})]})}}]),a}(n.Component),y=new m.a,C=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){y.get("username")||(window.location.href="/organizer")}},{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(f,{}),Object(p.jsx)("br",{}),Object(p.jsx)(N,{})]})}}]),a}(n.Component);a(27).config();var D=new m.a,T=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t,a=e.target,s=a.name,c=a.value;n.setState((t={},Object(j.a)(t,s,c),Object(j.a)(t,"userFailed",!1),t))},n.onSubmit=function(e){e.preventDefault();var t={username:n.state.username,password:n.state.password};b.a.post("".concat("https://diegosalas-organizer.herokuapp.com","/users/add"),t).then((function(e){console.log(e.data),D.set("username",t.username,{path:"/"}),D.set("password",t.password,{path:"/"}),window.location.href="./home"})).catch((function(e){return console.log(e)}))},n.state={username:"",password:"",userFailed:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){D.get("username")&&(window.location.href="./home")}},{key:"userInvalid",value:function(){return this.state.userFailed?{color:"red"}:{display:"none"}}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("br",{}),Object(p.jsx)("h3",{children:"Create New User"}),Object(p.jsx)("br",{}),Object(p.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"usernameInput",children:"Username"}),Object(p.jsx)("input",{type:"text",required:!0,className:"form-control",id:"usernameInput",name:"username",value:this.state.username,onChange:this.handleChange})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"passwordInput",children:"Password"}),Object(p.jsx)("input",{type:"password",required:!0,className:"form-control",id:"passwordInput",name:"password",value:this.state.password,onChange:this.handleChange})]}),Object(p.jsxs)("div",{children:["\xbfYa tienes una cuenta?",Object(p.jsx)("span",{children:" "}),Object(p.jsx)(d.b,{to:"./",children:"Ingresa"})]}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"submit",value:"Create User",className:"btn btn-primary"})})]})]})}}]),a}(n.Component),I=a(87),F=a.n(I),S=(a(121),new m.a),_=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t,a=e.target,s=a.name,c=a.value;n.setState((t={},Object(j.a)(t,s,c),Object(j.a)(t,"userFailed",!1),t))},n.onChangeDate=function(e){n.setState({due_date:e})},n.onSubmit=function(e){e.preventDefault();var t={username:S.get("username"),name:n.state.name,description:n.state.description,duration:n.state.duration,importance:n.state.importance,registration_date:new Date,due_date:n.state.due_date};n.props.onSubmit(t)},n.state={name:"",description:"",duration:60,importance:1,registration_date:new Date,due_date:new Date},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){S.get("username")||(window.location.href="./")}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("br",{}),Object(p.jsx)("h3",{children:"Create New Exercise Log"}),Object(p.jsx)("br",{}),Object(p.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"nameInput",children:"Title"}),Object(p.jsx)("input",{type:"text",required:!0,className:"form-control",id:"nameInput",name:"name",placeholder:"Eg. Became a Brawl Stars master",value:this.state.name,onChange:this.handleChange})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"descriptionInput",children:"Description"}),Object(p.jsx)("input",{type:"text",required:!0,className:"form-control",id:"descriptionInput",name:"description",placeholder:"Eg. Watch all Trebor's videos",value:this.state.description,onChange:this.handleChange})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"durationInput",children:"Duration (in minutes)"}),Object(p.jsx)("input",{type:"text",required:!0,className:"form-control",id:"durationInput",name:"duration",placeholder:"60",value:this.state.duration,onChange:this.handleChange})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Importance"}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"form-check form-check-inline",children:[Object(p.jsx)("input",{className:"form-check-input",type:"radio",name:"importance",id:"importanceRadios1",value:"1",onChange:this.handleChange,defaultChecked:!0}),Object(p.jsx)("label",{className:"form-check-label",htmlFor:"importanceRadios1",children:"Low"})]}),Object(p.jsxs)("div",{className:"form-check form-check-inline",children:[Object(p.jsx)("input",{className:"form-check-input",type:"radio",name:"importance",id:"importanceRadios2",value:"2",onChange:this.handleChange}),Object(p.jsx)("label",{className:"form-check-label",htmlFor:"importanceRadios2",children:"Medium"})]}),Object(p.jsxs)("div",{className:"form-check form-check-inline",children:[Object(p.jsx)("input",{className:"form-check-input",type:"radio",name:"importance",id:"importanceRadios3",value:"3",onChange:this.handleChange}),Object(p.jsx)("label",{className:"form-check-label",htmlFor:"importanceRadios3",children:"High"})]})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"dueDateInput",children:"Due Date"}),Object(p.jsx)("div",{children:Object(p.jsx)(F.a,{id:"dueDateInput",name:"due_date",selected:this.state.due_date,onChange:this.onChangeDate,dateFormat:"dd/MM/yyyy",minDate:new Date})})]}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"submit",value:this.props.textButton,className:"btn btn-primary"})})]})]})}}]),a}(n.Component);a(27).config();var M=new m.a,z=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).updateTask=function(e){console.log("UPDATE TASK")},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){M.get("username")||(window.location.href="./")}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"mainPage",children:[Object(p.jsx)(f,{}),Object(p.jsx)("br",{}),Object(p.jsx)(_,{onSubmit:this.updateTask,textButton:"Update Task"})]})}}]),a}(n.Component);a(27).config();var U=new m.a,q=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).createTask=function(e){b.a.post("".concat("https://diegosalas-organizer.herokuapp.com","/tasks/add"),e).then((function(e){console.log(e.data),window.location.href="./"})).catch((function(e){return console.log(e)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){U.get("username")||(window.location.href="./")}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"mainPage",children:[Object(p.jsx)(f,{}),Object(p.jsx)("br",{}),Object(p.jsx)(_,{onSubmit:this.createTask,textButton:"Create Task"})]})}}]),a}(n.Component),A=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(p.jsx)(d.a,{basename:"/organizer",children:Object(p.jsxs)(u.c,{children:[Object(p.jsx)(u.a,{path:"/",exact:!0,component:x}),Object(p.jsx)(u.a,{path:"/home",exact:!0,component:C}),Object(p.jsx)(u.a,{path:"/home/edit/:id",exact:!0,component:z}),Object(p.jsx)(u.a,{path:"/home/create",exact:!0,component:q}),Object(p.jsx)(u.a,{path:"/register-user",exact:!0,component:T})]})})}}]),a}(n.Component);c.a.render(Object(p.jsx)(A,{}),document.getElementById("root"))}},[[205,1,2]]]);
//# sourceMappingURL=main.8763bb28.chunk.js.map