(this.webpackJsonporganizer_client=this.webpackJsonporganizer_client||[]).push([[0],{208:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(29),c=a.n(s),r=a(7),o=a(8),i=a(10),l=a(9),d=a(20),u=a(12),h=a(21),j=a(15),p=a.n(j),m=a(14),b=a(0);a(27).config();var O=new m.a,f=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t,a=e.target,s=a.name,c=a.value;n.setState((t={},Object(h.a)(t,s,c),Object(h.a)(t,"userFailed",!1),t))},n.login=function(e){e.preventDefault();var t={username:"".concat(n.state.username),password:"".concat(n.state.password)};p.a.get("".concat("https://diegosalas-organizer.herokuapp.com","/users/login/").concat(t.username,"/").concat(t.password)).then((function(e){return e.data})).then((function(e){if(1===e.length){var t=e[0];O.set("id",t._id,{path:"/"}),O.set("username",t.username,{path:"/"}),O.set("password",t.password,{path:"/"}),window.location.href="./home"}else n.setState({userFailed:!0})})).catch((function(e){return console.log(e)}))},n.state={username:"",password:"",userFailed:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){O.get("username")&&(window.location.href="./home")}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("br",{}),Object(b.jsx)("h3",{children:"Login"}),Object(b.jsx)("br",{}),Object(b.jsxs)("form",{onSubmit:this.login,children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"usernameInput",children:"Username"}),Object(b.jsx)("input",{type:"text",required:!0,className:"form-control",id:"usernameInput",name:"username",value:this.state.username,onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"passwordInput",children:"Password"}),Object(b.jsx)("input",{type:"password",required:!0,className:"form-control",id:"passwordInput",name:"password",value:this.state.password,onChange:this.handleChange})]}),this.state.userFailed&&Object(b.jsx)("p",{style:{color:"red"},children:"Usuario y contrase\xf1a no coinciden"}),Object(b.jsxs)("div",{children:["\xbfNo tienes una cuenta?",Object(b.jsx)("span",{children:" "}),Object(b.jsx)(d.b,{to:"./register-user",children:"Reg\xedstrate"})]}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",{type:"submit",value:"Entrar",className:"btn btn-primary"})})]})]})}}]),a}(n.Component),x=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsx)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(d.b,{to:"/home",className:"navbar-brand",children:"Organizer"}),Object(b.jsx)("div",{className:"collpase navbar-collapse",id:"navbarNavAltMarkup",children:Object(b.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(b.jsx)("li",{className:"navbar-item",children:Object(b.jsx)(d.b,{to:"/home",className:"nav-link",children:"Tasks"})}),Object(b.jsx)("li",{className:"navbar-item",children:Object(b.jsx)(d.b,{to:"/home/create",className:"nav-link",children:"Create Task"})})]})})]})})}}]),a}(n.Component),v=a(35),g=a(36),k=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).updateTask=function(){e.props.updateTask(e.props.task._id)},e.deleteTask=function(){e.props.deleteTask(e.props.task._id)},e.finishTask=function(){e.props.finishTask(e.props.task._id)},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:this.props.task.name}),Object(b.jsx)("td",{children:this.props.task.description}),Object(b.jsx)("td",{children:this.props.task.duration}),Object(b.jsx)("td",{children:this.props.task.importance}),Object(b.jsx)("td",{children:this.props.task.due_date.slice(0,10)}),Object(b.jsxs)("td",{children:[Object(b.jsx)(v.a,{onClick:this.updateTask,icon:g.b}),Object(b.jsx)("span",{children:"   "}),Object(b.jsx)(v.a,{onClick:this.finishTask,icon:g.a}),Object(b.jsx)("span",{children:"   "}),Object(b.jsx)(v.a,{onClick:this.deleteTask,icon:g.c}),Object(b.jsx)("span",{children:"   "})]})]})}}]),a}(n.Component);a(27).config();var w=new m.a,y=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).logout=function(){w.remove("username",{path:"/"}),w.remove("password",{path:"/"}),window.location.href="./"},n.deleteTask=function(e){window.confirm("\xbfEst\xe1 seguro de eliminar la tarea?")&&(p.a.delete("".concat("https://diegosalas-organizer.herokuapp.com","/tasks/").concat(e)).then((function(t){n.setState({tasks:n.state.tasks.filter((function(t){return t._id!==e}))})})).catch((function(e){return console.log(e)})),alert("\xa1Tarea eliminada!"))},n.finishTask=function(e){window.confirm("\xbfEst\xe1 seguro de marcar la tarea como completada?")&&(p.a.delete("".concat("https://diegosalas-organizer.herokuapp.com","/tasks/").concat(e)).then((function(t){n.setState({tasks:n.state.tasks.filter((function(t){return t._id!==e}))})})).catch((function(e){return console.log(e)})),alert("\xa1Tarea completada!"))},n.updateTask=function(e){window.location.href="./home/edit/"+e},n.tasksList=function(){return n.state.tasks.map((function(e){return Object(b.jsx)(k,{task:e,deleteTask:n.deleteTask,updateTask:n.updateTask,finishTask:n.finishTask},e._id)}))},n.state={tasks:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;w.get("username")?p.a.get("".concat("https://diegosalas-organizer.herokuapp.com","/tasks/").concat(w.get("username"))).then((function(t){return e.setState({tasks:t.data})})).catch((function(e){return console.log(e)})):window.location.href="./"}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("h1",{children:["Welcome, ",w.get("username")]}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"table-responsive-sm",children:Object(b.jsxs)("table",{className:"table table-bordered",children:[Object(b.jsx)("thead",{className:"thead-dark",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Name"}),Object(b.jsx)("th",{scope:"col",children:"Description"}),Object(b.jsx)("th",{scope:"col",children:"Time"}),Object(b.jsx)("th",{scope:"col",children:"Imp"}),Object(b.jsx)("th",{scope:"col",children:"Due Date"}),Object(b.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(b.jsx)("tbody",{children:this.tasksList()})]})}),Object(b.jsx)("button",{onClick:this.logout,className:"btn btn-primary",children:"Log out"})]})}}]),a}(n.Component),N=new m.a,C=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){N.get("username")||(window.location.href="/organizer")}},{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(x,{}),Object(b.jsx)("br",{}),Object(b.jsx)(y,{})]})}}]),a}(n.Component);a(27).config();var T=new m.a,D=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t,a=e.target,s=a.name,c=a.value;n.setState((t={},Object(h.a)(t,s,c),Object(h.a)(t,"userFailed",!1),t))},n.onSubmit=function(e){e.preventDefault();var t={username:n.state.username,password:n.state.password};p.a.post("".concat("https://diegosalas-organizer.herokuapp.com","/users/add"),t).then((function(e){console.log(e.data),T.set("username",t.username,{path:"/"}),T.set("password",t.password,{path:"/"}),window.location.href="./home"})).catch((function(e){return console.log(e)}))},n.state={username:"",password:"",userFailed:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){T.get("username")&&(window.location.href="./home")}},{key:"userInvalid",value:function(){return this.state.userFailed?{color:"red"}:{display:"none"}}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("br",{}),Object(b.jsx)("h3",{children:"Create New User"}),Object(b.jsx)("br",{}),Object(b.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"usernameInput",children:"Username"}),Object(b.jsx)("input",{type:"text",required:!0,className:"form-control",id:"usernameInput",name:"username",value:this.state.username,onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"passwordInput",children:"Password"}),Object(b.jsx)("input",{type:"password",required:!0,className:"form-control",id:"passwordInput",name:"password",value:this.state.password,onChange:this.handleChange})]}),Object(b.jsxs)("div",{children:["\xbfYa tienes una cuenta?",Object(b.jsx)("span",{children:" "}),Object(b.jsx)(d.b,{to:"./",children:"Ingresa"})]}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",{type:"submit",value:"Create User",className:"btn btn-primary"})})]})]})}}]),a}(n.Component),_=a(51),I=a.n(_),S=a(88),F=a(89),z=a.n(F),M=(a(123),new m.a),q=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,s=t.value;s="number"===typeof n.state[a]?parseInt(s):s,n.setState(Object(h.a)({},a,s))},n.onChangeDate=function(e){n.setState({due_date:e})},n.backHome=function(){console.log(window.location.href),window.location.href="../../home"},n.onSubmit=function(e){e.preventDefault();var t={username:M.get("username"),name:n.state.name,description:n.state.description,duration:n.state.duration,importance:n.state.importance,registration_date:new Date,due_date:n.state.due_date};n.state._id&&(t.id=n.state._id),n.props.onSubmit(t)},n.state={name:"",description:"",duration:60,importance:1,registration_date:new Date,due_date:new Date},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(S.a)(I.a.mark((function e(){var t=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M.get("username")||(window.location.href="./"),!this.props.id){e.next=4;break}return e.next=4,p.a.get("".concat("https://diegosalas-organizer.herokuapp.com","/tasks/byId/").concat(this.props.id)).then((function(e){var a=e.data,n=a._id,s=a.name,c=a.description,r=a.duration,o=a.importance,i=new Date(e.data.due_date);t.setState({_id:n,name:s,description:c,duration:r,importance:o,due_date:i})})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"mainPage",children:[Object(b.jsx)(x,{}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("br",{}),Object(b.jsx)("h3",{children:this.props.title}),Object(b.jsx)("br",{}),Object(b.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"nameInput",children:"Title"}),Object(b.jsx)("input",{type:"text",required:!0,className:"form-control",id:"nameInput",name:"name",placeholder:"Eg. Became a Brawl Stars master",value:this.state.name,onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"descriptionInput",children:"Description"}),Object(b.jsx)("input",{type:"text",required:!0,className:"form-control",id:"descriptionInput",name:"description",placeholder:"Eg. Watch all Trebor's videos",value:this.state.description,onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"durationInput",children:"Duration (in minutes)"}),Object(b.jsx)("input",{type:"text",required:!0,className:"form-control",id:"durationInput",name:"duration",placeholder:"60",value:this.state.duration,onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Importance"}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"form-check form-check-inline",children:[Object(b.jsx)("input",{className:"form-check-input",type:"radio",name:"importance",id:"importanceRadios1",value:"1",checked:1===this.state.importance,onChange:this.handleChange}),Object(b.jsx)("label",{className:"form-check-label",htmlFor:"importanceRadios1",children:"Low"})]}),Object(b.jsxs)("div",{className:"form-check form-check-inline",children:[Object(b.jsx)("input",{className:"form-check-input",type:"radio",name:"importance",id:"importanceRadios2",value:"2",checked:2===this.state.importance,onChange:this.handleChange}),Object(b.jsx)("label",{className:"form-check-label",htmlFor:"importanceRadios2",children:"Medium"})]}),Object(b.jsxs)("div",{className:"form-check form-check-inline",children:[Object(b.jsx)("input",{className:"form-check-input",type:"radio",name:"importance",id:"importanceRadios3",value:"3",checked:3===this.state.importance,onChange:this.handleChange}),Object(b.jsx)("label",{className:"form-check-label",htmlFor:"importanceRadios3",children:"High"})]})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"dueDateInput",children:"Due Date"}),Object(b.jsx)("div",{children:Object(b.jsx)(z.a,{id:"dueDateInput",name:"due_date",selected:this.state.due_date,onChange:this.onChangeDate,dateFormat:"dd/MM/yyyy",minDate:new Date})})]}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"form-group row",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-primary mr-2",onClick:this.backHome,children:"Back"}),Object(b.jsx)("input",{type:"submit",value:this.props.textButton,className:"btn btn-primary"})]}),Object(b.jsx)("div",{className:"form-group"})]})]})]})}}]),a}(n.Component);a(27).config();var B=new m.a,R=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).updateTask=function(e){p.a.patch("".concat("https://diegosalas-organizer.herokuapp.com","/tasks/").concat(e.id),e).then((function(e){console.log(e.data),window.location.href="../../home"})).catch((function(e){return console.log(e)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){B.get("username")||(window.location.href="./")}},{key:"render",value:function(){return Object(b.jsx)(q,{onSubmit:this.updateTask,textButton:"Update",title:"Update Task",id:this.props.match.params.id})}}]),a}(n.Component);a(27).config();var U=new m.a,E=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).createTask=function(e){p.a.post("".concat("https://diegosalas-organizer.herokuapp.com","/tasks/add"),e).then((function(e){console.log(e.data),window.location.href="../home"})).catch((function(e){return console.log(e)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){U.get("username")||(window.location.href="./")}},{key:"render",value:function(){return Object(b.jsx)(q,{onSubmit:this.createTask,textButton:"Create",title:"Create Task"})}}]),a}(n.Component),A=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsx)(d.a,{basename:"/organizer",children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{path:"/",exact:!0,component:f}),Object(b.jsx)(u.a,{path:"/home",exact:!0,component:C}),Object(b.jsx)(u.a,{path:"/home/edit/:id",exact:!0,component:R}),Object(b.jsx)(u.a,{path:"/home/create",exact:!0,component:E}),Object(b.jsx)(u.a,{path:"/register-user",exact:!0,component:D})]})})}}]),a}(n.Component),L=(a(207),function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsx)(A,{})}}]),a}(n.Component));c.a.render(Object(b.jsx)(L,{}),document.getElementById("root"))}},[[208,1,2]]]);
//# sourceMappingURL=main.79614e7c.chunk.js.map